{"ast":null,"code":"import _regeneratorRuntime from\"D:/wum/w2g/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/wum/w2g/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/wum/w2g/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import\"./css/watchparty.css\";import{useNavigate}from\"react-router-dom\";import{joinRoom,leaveRoom}from'./Controller/RoomController';import ReactPlayer from'react-player';import{getVideo,getVideoPos,getVideoStat,postVideo,postVideoPos,postVideoStat}from'./Controller/VideoController';import{useParams}from'react-router-dom';import Chat from'./Chat';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Watchparty=function Watchparty(){// room siplay with userlist of rpp\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),roomLeader=_useState2[0],setRoomleader=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),link=_useState4[0],setLink=_useState4[1];var _useParams=useParams(),roomid=_useParams.roomid;var navigate=useNavigate();var roomname=sessionStorage.getItem('roomname');var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],getData=_useState6[1];var URL='https://gruppe13.toni-barth.com/rooms/'+roomname+'/users';//player stats\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),url=_useState8[0],setUrl=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),playing=_useState10[0],setPlaying=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),controls=_useState12[0],setControls=_useState12[1];var _useState13=useState({playedSeconds:0.0,played:0.0,loadedSeconds:0.0,loaded:0.0}),_useState14=_slicedToArray(_useState13,2),progress=_useState14[0],setProgress=_useState14[1];var refPlayer=useRef();//api sates\nvar _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),apiState=_useState16[0],setApiState=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),apiPos=_useState18[0],setApiPos=_useState18[1];//handlers\nvar handlePlay=function handlePlay(){if(apiState=='playing'){return;}else{console.log('onPlay');postVideoStat('playing');}};var handlePause=function handlePause(){console.log('onPause');console.log(roomLeader);if(roomLeader==true){postVideoPos(progress.playedSeconds);}if(apiState=='paused'){return;}else{postVideoStat('paused');}};var handleProgress=function handleProgress(pro){setProgress(pro);console.log(progress);};var handleBuffer=function handleBuffer(){console.log('onBuffer');};// constantly snyc once every 3 sekonds\nuseEffect(function(){console.log(\"test check\");checkInvite();var interval=setInterval(function(){sync();fetchData();},3000);return function(){return clearInterval(interval);};},[]);// updates the player status with the api status\nuseEffect(function(){if(apiState=='playing'){if(playing==false){setPlaying(true);}}else{if(playing==true){setPlaying(false);}}},[apiState]);// handles roomleader status change\nuseEffect(function(){if(roomLeader==true){}else{}},[roomLeader]);// updates the player pos with api pos\nuseEffect(function(){},[apiPos]);// loades leader data when data is available\nuseEffect(function(){if(data[0]==undefined){}else{checkLeader();}},[data]);//---------------------------------------\n// on load check\nvar checkInvite=function checkInvite(){if(sessionStorage.getItem('id')==null){window.sessionStorage.setItem(\"redirect\",roomid);navigate('/UserCreateSide');}if(sessionStorage.getItem('id')!=null&&sessionStorage.getItem('roomname')==null){joinRoom(roomid);navigate('/Watchparty/'+roomid);}};// check leader \nvar _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),roomLeaderName=_useState20[0],setRoomLeaderName=_useState20[1];var checkLeader=function checkLeader(){var user=data[0];console.log(user.name);setRoomLeaderName(data[0].name);if(user.name==sessionStorage.getItem('name')){setRoomleader(true);}};//---------------------------------------\n// buttons\nvar handleButton=function handleButton(){// gives button its funktion leave, submit video\npostVideoPos(0);setUrl(link);postVideo(link);console.log(url);setLink(\"\");};var handleButton2=function handleButton2(){// gives button its funktion, leave Room\nleaveRoom(sessionStorage.getItem('roomname'));sessionStorage.removeItem('url');sessionStorage.removeItem('stat');navigate('/Room');};// syncs\n// calls multiple functions, which shouls sync different aspects of the player\nvar sync=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var st;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://  the room should update, url, position\nst={url:getVideo(),state:getVideoStat(),position:getVideoPos()};setApiState(st.state);syncUrl(st);if(roomLeader==false){compareProgress(st);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function sync(){return _ref.apply(this,arguments);};}();// takes value of getVideo and sets it as room(user) url, when url = compare nothing happens to the player, if compare was differen the player changes \nvar syncUrl=function syncUrl(st){setUrl(st.url);sessionStorage.setItem(\"url\",url);return true;};// gets the video Progress of the server and syncs with server \nvar compareProgress=function compareProgress(st){console.log(st.position);console.log(progress.playedSeconds);if(st.position-progress.playedSeconds>2){if(st.state=='paused'){refPlayer.current.seekTo(st.position,\"seconds\");}}if(progress.playedSeconds-st.position>2){if(st.state=='paused'){refPlayer.current.seekTo(st.position,\"seconds\");}}};//_____________________________________________________________________________________________\n// user list\nvar fetchData=function fetchData(){fetch(URL).then(function(res){return res.json();}).then(function(response){console.log(response.users);getData(response.users);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"body\",{class:\"home\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"partytitle_text\",children:[/*#__PURE__*/_jsxs(\"h1\",{class:\"party_title\",children:[\"Raum: \",roomname,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleButton2();},className:\"link_leave\",\"aria-live\":\"polite\",children:\"Verlassen\"}),/*#__PURE__*/_jsxs(\"h1\",{class:\"party_title\",children:[\"Party-Leader: \",roomLeaderName,\" \"]}),/*#__PURE__*/_jsxs(\"h1\",{class:\"party_title\",children:[\"Raumlink: https://domolka17.github.io/#/Watchparty/\",roomname,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"links\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"roomname\",class:\"link_box\",placeholder:\"Link einf\\xFCgen\",value:link,onChange:function onChange(change){return setLink(change.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleButton();},className:\"link_submit\",\"aria-live\":\"polite\",children:\"Starten \"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"player\",children:/*#__PURE__*/_jsx(ReactPlayer,{width:\"70%\",height:\"70%\",class:\"reactplayer\",url:url,ref:refPlayer,playing:playing,controls:controls,onReady:function onReady(){return console.log('onReady');},onStart:function onStart(){return console.log('onStart');},onPlay:function onPlay(){return handlePlay();},onPause:function onPause(){return handlePause();},onBuffer:function onBuffer(){return console.log('onBuffer');},onProgress:function onProgress(pro){return handleProgress(pro);},onSeek:function onSeek(){return console.log(\"UUUU\");}})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"user_box\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{class:\"users\",children:\"Nutzer in dieser Watchparty:\"}),/*#__PURE__*/_jsx(\"p\",{class:\"user_list\",children:data.map(function(user){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:'\" '+user.name+' \"'})},user.id);})})]})})}),/*#__PURE__*/_jsx(\"div\",{class:\"chat\",role:\"log\",\"aria-live\":\"polite\",children:/*#__PURE__*/_jsx(Chat,{})})]})})});};export default Watchparty;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","joinRoom","leaveRoom","ReactPlayer","getVideo","getVideoPos","getVideoStat","postVideo","postVideoPos","postVideoStat","useParams","Chat","Watchparty","roomLeader","setRoomleader","link","setLink","roomid","navigate","roomname","sessionStorage","getItem","data","getData","URL","url","setUrl","playing","setPlaying","controls","setControls","playedSeconds","played","loadedSeconds","loaded","progress","setProgress","refPlayer","apiState","setApiState","apiPos","setApiPos","handlePlay","console","log","handlePause","handleProgress","pro","handleBuffer","checkInvite","interval","setInterval","sync","fetchData","clearInterval","undefined","checkLeader","window","setItem","roomLeaderName","setRoomLeaderName","user","name","handleButton","handleButton2","removeItem","st","state","position","syncUrl","compareProgress","current","seekTo","fetch","then","res","json","response","users","event","change","target","value","map","id"],"sources":["D:/wum/w2g/src/components/Watchparty.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport \"./css/watchparty.css\";\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { joinRoom, leaveRoom } from './Controller/RoomController';\r\nimport ReactPlayer from 'react-player';\r\nimport { getVideo, getVideoPos, getVideoStat, postVideo, postVideoPos, postVideoStat } from './Controller/VideoController';\r\nimport { useParams } from 'react-router-dom';\r\nimport Chat from './Chat';\r\n\r\n\r\nconst Watchparty = () => {\t\t// room siplay with userlist of rpp\r\n\tconst [roomLeader, setRoomleader]=useState(false)\r\n\tconst [link, setLink] = useState('')\r\n\tconst { roomid } = useParams()\r\n\tconst navigate = useNavigate()\r\n\tconst roomname = sessionStorage.getItem('roomname')\r\n\tconst [data, getData] = useState([])\r\n\tconst URL = 'https://gruppe13.toni-barth.com/rooms/' + roomname + '/users';\r\n\t//player stats\r\n\tconst [url, setUrl] = useState(null)\r\n\tconst [playing, setPlaying] = useState(false)\r\n\tconst [controls, setControls] = useState(true)\r\n\tconst [progress, setProgress] = useState({ playedSeconds: 0.0, played: 0.0, loadedSeconds: 0.0, loaded: 0.0 })\r\n\tconst refPlayer = useRef()\r\n\t//api sates\r\n\tconst [apiState, setApiState]= useState('')\r\n\tconst [apiPos, setApiPos] = useState(0)\r\n\t//handlers\r\n\tconst handlePlay = () => \r\n\t{\r\n\t\tif(apiState=='playing'){\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log('onPlay')\r\n\t\t\tpostVideoStat('playing')\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tconst handlePause = () => {\r\n\t\tconsole.log('onPause')\r\n\t\tconsole.log(roomLeader)\r\n\t\tif(roomLeader==true){\r\n\t\t\tpostVideoPos(progress.playedSeconds)\r\n\t\t}\r\n\t\tif(apiState=='paused')\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse{\r\n\t\t\tpostVideoStat('paused')\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tconst handleProgress=(pro)=>{\r\n\t\tsetProgress(pro)\r\n\t\tconsole.log(progress)\r\n\t\t\r\n\t}\r\n\r\n\tconst handleBuffer=(  )=>{\r\n\t\tconsole.log('onBuffer')\r\n\t}\r\n\r\n\r\n\t// constantly snyc once every 3 sekonds\r\n\tuseEffect(() => {\r\n\t\tconsole.log(\"test check\")\r\n\t\tcheckInvite()\r\n\t\tconst interval = setInterval(() => {\r\n\t\t\tsync()\r\n\t\t\tfetchData()\r\n\t\t\t\r\n\t\t}, 3000);\r\n\t\treturn () => clearInterval(interval);\r\n\t}, []);\r\n\r\n\t// updates the player status with the api status\r\n\tuseEffect(()=>{\r\n\t\tif(apiState=='playing'){\r\n\t\t\tif(playing==false){\r\n\t\t\t\tsetPlaying(true)\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(playing==true){\r\n\t\t\t\tsetPlaying(false)\r\n\t\t\t}\r\n\t\t}\r\n\t},[apiState])\r\n\t// handles roomleader status change\r\n\tuseEffect(()=>{\r\n\t\tif(roomLeader==true){\r\n\t\t\t\r\n\t\t}\r\n\t\telse{\r\n\t\t\t\r\n\t\t}\r\n\t},[roomLeader])\r\n\t// updates the player pos with api pos\r\n\tuseEffect(()=>{\r\n\t\t\r\n\t},[apiPos])\r\n\t// loades leader data when data is available\r\n\tuseEffect(()=>{\r\n\t\tif(data[0]==undefined)\r\n\t\t{\r\n\r\n\t\t}\r\n\t\telse{\r\n\t\t\tcheckLeader()\t\r\n\t\t}\r\n\t},[data])\r\n\t \r\n\t//---------------------------------------\r\n\t// on load check\r\n\tconst checkInvite = () => {\r\n\t\tif (sessionStorage.getItem('id') == null) {\r\n\t\t\twindow.sessionStorage.setItem(\"redirect\", roomid)\r\n\t\t\tnavigate('/UserCreateSide')\r\n\t\t}\r\n\t\tif (sessionStorage.getItem('id') != null && sessionStorage.getItem('roomname') == null) {\r\n\t\t\tjoinRoom(roomid)\r\n\t\t\tnavigate('/Watchparty/' + roomid)\r\n\t\t}\r\n\t}\r\n\t// check leader \r\n\r\n\tconst [roomLeaderName, setRoomLeaderName] = useState('')\r\n\r\n\tconst checkLeader=()=> {\r\n\t\tlet user = data[0]\r\n\t\tconsole.log(user.name)\r\n\t\tsetRoomLeaderName(data[0].name)\r\n\t\tif(user.name==sessionStorage.getItem('name')){\r\n\t\t\tsetRoomleader(true)\r\n\t\t}\r\n\t}\r\n\t//---------------------------------------\r\n\t// buttons\r\n\tconst handleButton = () => {\t\t// gives button its funktion leave, submit video\r\n\t\tpostVideoPos(0)\r\n\t\tsetUrl(link)\r\n\t\tpostVideo(link)\r\n\t\tconsole.log(url)\r\n\t\tsetLink(\"\")\r\n\t}\r\n\tconst handleButton2 = () => {\t\t// gives button its funktion, leave Room\r\n\t\tleaveRoom(sessionStorage.getItem('roomname'))\r\n\t\tsessionStorage.removeItem('url')\r\n\t\tsessionStorage.removeItem('stat')\r\n\t\tnavigate('/Room')\r\n\t}\r\n\r\n\t// syncs\r\n\t// calls multiple functions, which shouls sync different aspects of the player\r\n\tconst sync = async () => {\t\t//  the room should update, url, position\r\n\t\tlet st = {url:getVideo(), state: getVideoStat(), position: getVideoPos()}\r\n\t\tsetApiState(st.state)\r\n\t\tsyncUrl(st)\r\n\t\tif(roomLeader==false){\r\n\t\t\tcompareProgress(st)\r\n\t\t}\r\n\t}\r\n\t// takes value of getVideo and sets it as room(user) url, when url = compare nothing happens to the player, if compare was differen the player changes \r\n\tconst syncUrl = (st) => {\r\n\t\tsetUrl(st.url)\r\n\t\tsessionStorage.setItem(\"url\", url)\r\n\t\treturn true\r\n\t}\r\n\t\r\n\t// gets the video Progress of the server and syncs with server \r\n\tconst compareProgress = (st) => {\r\n\t\t\r\n\t\tconsole.log(st.position)\r\n\t\tconsole.log(progress.playedSeconds)\r\n\t\tif(st.position-progress.playedSeconds>2)\r\n\t\t{\r\n\t\t\tif(st.state == 'paused'){\r\n\t\t\t\trefPlayer.current.seekTo( st.position, \"seconds\")\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(progress.playedSeconds-st.position>2)\r\n\t\t{\r\n\t\t\tif(st.state == 'paused'){\r\n\t\t\t\trefPlayer.current.seekTo( st.position, \"seconds\")\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//_____________________________________________________________________________________________\r\n\t// user list\r\n\t\r\n\r\n\r\n\r\n\tconst fetchData = () => {\r\n\t\tfetch(URL)\r\n\t\t\t.then((res) =>\r\n\t\t\t\tres.json())\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response.users);\r\n\t\t\t\tgetData(response.users);\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<body class=\"home\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\"partytitle_text\">\r\n\t\t\t\t\t\t<h1 class=\"party_title\">Raum: {roomname} </h1>\r\n\t\t\t\t\t\t<button onClick={event => handleButton2()} className=\"link_leave\" aria-live=\"polite\">Verlassen</button>\r\n\t\t\t\t\t\t<h1 class=\"party_title\">Party-Leader: {roomLeaderName} </h1>\r\n\t\t\t\t\t\t<h1 class=\"party_title\">Raumlink: https://domolka17.github.io/#/Watchparty/{roomname} </h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"links\">\r\n\t\t\t\t\t\t<input type=\"text\" name=\"roomname\" class=\"link_box\" placeholder=\"Link einfügen\" value={link} onChange={(change) => setLink(change.target.value)}></input>\r\n\t\t\t\t\t\t<button onClick={event => handleButton()} className=\"link_submit\" aria-live=\"polite\">Starten\t</button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"player\">\r\n\t\t\t\t\t\t\t<ReactPlayer\r\n\t\t\t\t\t\t\t\twidth=\"70%\"\r\n\t\t\t\t\t\t\t\theight=\"70%\"\r\n\t\t\t\t\t\t\t\tclass='reactplayer'\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\tref={refPlayer}\r\n\t\t\t\t\t\t\t\tplaying={playing}\r\n\t\t\t\t\t\t\t\tcontrols={controls}\r\n\t\t\t\t\t\t\t\tonReady={() => console.log('onReady')}\r\n\t\t\t\t\t\t\t\tonStart={() => console.log('onStart')}\r\n\t\t\t\t\t\t\t\tonPlay={() => handlePlay()}\r\n\t\t\t\t\t\t\t\tonPause={() => handlePause()}\r\n\t\t\t\t\t\t\t\tonBuffer={() => console.log('onBuffer')}\r\n\t\t\t\t\t\t\t\tonProgress={(pro)=> handleProgress(pro)}\r\n\t\t\t\t\t\t\t\tonSeek={()=> console.log(\"UUUU\")}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"user_box\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p class=\"users\">Nutzer in dieser Watchparty:</p>\r\n\t\t\t\t\t\t\t\t<p class=\"user_list\">\r\n\t\t\t\t\t\t\t\t\t{data.map((user) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={user.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{'\" '+user.name+' \"'}</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"chat\" role=\"log\" aria-live=\"polite\">\r\n\t\t\t\t\t\t<Chat />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</body>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Watchparty"],"mappings":"gTAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAO,sBAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,6BAApC,CACA,MAAOC,YAAP,KAAwB,cAAxB,CACA,OAASC,QAAT,CAAmBC,WAAnB,CAAgCC,YAAhC,CAA8CC,SAA9C,CAAyDC,YAAzD,CAAuEC,aAAvE,KAA4F,8BAA5F,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,KAAP,KAAiB,QAAjB,C,6IAGA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CAAG;AAC3B,cAAkCf,QAAQ,CAAC,KAAD,CAA1C,wCAAOgB,UAAP,eAAmBC,aAAnB,eACA,eAAwBjB,QAAQ,CAAC,EAAD,CAAhC,yCAAOkB,IAAP,eAAaC,OAAb,eACA,eAAmBN,SAAS,EAA5B,CAAQO,MAAR,YAAQA,MAAR,CACA,GAAMC,SAAQ,CAAGlB,WAAW,EAA5B,CACA,GAAMmB,SAAQ,CAAGC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAjB,CACA,eAAwBxB,QAAQ,CAAC,EAAD,CAAhC,yCAAOyB,IAAP,eAAaC,OAAb,eACA,GAAMC,IAAG,CAAG,yCAA2CL,QAA3C,CAAsD,QAAlE,CACA;AACA,eAAsBtB,QAAQ,CAAC,IAAD,CAA9B,yCAAO4B,GAAP,eAAYC,MAAZ,eACA,eAA8B7B,QAAQ,CAAC,KAAD,CAAtC,0CAAO8B,OAAP,gBAAgBC,UAAhB,gBACA,gBAAgC/B,QAAQ,CAAC,IAAD,CAAxC,2CAAOgC,QAAP,gBAAiBC,WAAjB,gBACA,gBAAgCjC,QAAQ,CAAC,CAAEkC,aAAa,CAAE,GAAjB,CAAsBC,MAAM,CAAE,GAA9B,CAAmCC,aAAa,CAAE,GAAlD,CAAuDC,MAAM,CAAE,GAA/D,CAAD,CAAxC,2CAAOC,QAAP,gBAAiBC,WAAjB,gBACA,GAAMC,UAAS,CAAGtC,MAAM,EAAxB,CACA;AACA,gBAA+BF,QAAQ,CAAC,EAAD,CAAvC,2CAAOyC,QAAP,gBAAiBC,WAAjB,gBACA,gBAA4B1C,QAAQ,CAAC,CAAD,CAApC,2CAAO2C,MAAP,gBAAeC,SAAf,gBACA;AACA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EACnB,CACC,GAAGJ,QAAQ,EAAE,SAAb,CAAuB,CACtB,OACA,CAFD,IAGI,CACHK,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAnC,aAAa,CAAC,SAAD,CAAb,CACA,CAED,CAVD,CAWA,GAAMoC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACzBF,OAAO,CAACC,GAAR,CAAY,SAAZ,EACAD,OAAO,CAACC,GAAR,CAAY/B,UAAZ,EACA,GAAGA,UAAU,EAAE,IAAf,CAAoB,CACnBL,YAAY,CAAC2B,QAAQ,CAACJ,aAAV,CAAZ,CACA,CACD,GAAGO,QAAQ,EAAE,QAAb,CACA,CACC,OACA,CAHD,IAII,CACH7B,aAAa,CAAC,QAAD,CAAb,CACA,CAED,CAdD,CAeA,GAAMqC,eAAc,CAAC,QAAfA,eAAe,CAACC,GAAD,CAAO,CAC3BX,WAAW,CAACW,GAAD,CAAX,CACAJ,OAAO,CAACC,GAAR,CAAYT,QAAZ,EAEA,CAJD,CAMA,GAAMa,aAAY,CAAC,QAAbA,aAAa,EAAM,CACxBL,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,CAFD,CAKA;AACA9C,SAAS,CAAC,UAAM,CACf6C,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAK,WAAW,GACX,GAAMC,SAAQ,CAAGC,WAAW,CAAC,UAAM,CAClCC,IAAI,GACJC,SAAS,GAET,CAJ2B,CAIzB,IAJyB,CAA5B,CAKA,MAAO,kBAAMC,cAAa,CAACJ,QAAD,CAAnB,EAAP,CACA,CATQ,CASN,EATM,CAAT,CAWA;AACApD,SAAS,CAAC,UAAI,CACb,GAAGwC,QAAQ,EAAE,SAAb,CAAuB,CACtB,GAAGX,OAAO,EAAE,KAAZ,CAAkB,CACjBC,UAAU,CAAC,IAAD,CAAV,CACA,CACD,CAJD,IAKI,CACH,GAAGD,OAAO,EAAE,IAAZ,CAAiB,CAChBC,UAAU,CAAC,KAAD,CAAV,CACA,CACD,CACD,CAXQ,CAWP,CAACU,QAAD,CAXO,CAAT,CAYA;AACAxC,SAAS,CAAC,UAAI,CACb,GAAGe,UAAU,EAAE,IAAf,CAAoB,CAEnB,CAFD,IAGI,CAEH,CACD,CAPQ,CAOP,CAACA,UAAD,CAPO,CAAT,CAQA;AACAf,SAAS,CAAC,UAAI,CAEb,CAFQ,CAEP,CAAC0C,MAAD,CAFO,CAAT,CAGA;AACA1C,SAAS,CAAC,UAAI,CACb,GAAGwB,IAAI,CAAC,CAAD,CAAJ,EAASiC,SAAZ,CACA,CAEC,CAHD,IAII,CACHC,WAAW,GACX,CACD,CARQ,CAQP,CAAClC,IAAD,CARO,CAAT,CAUA;AACA;AACA,GAAM2B,YAAW,CAAG,QAAdA,YAAc,EAAM,CACzB,GAAI7B,cAAc,CAACC,OAAf,CAAuB,IAAvB,GAAgC,IAApC,CAA0C,CACzCoC,MAAM,CAACrC,cAAP,CAAsBsC,OAAtB,CAA8B,UAA9B,CAA0CzC,MAA1C,EACAC,QAAQ,CAAC,iBAAD,CAAR,CACA,CACD,GAAIE,cAAc,CAACC,OAAf,CAAuB,IAAvB,GAAgC,IAAhC,EAAwCD,cAAc,CAACC,OAAf,CAAuB,UAAvB,GAAsC,IAAlF,CAAwF,CACvFpB,QAAQ,CAACgB,MAAD,CAAR,CACAC,QAAQ,CAAC,eAAiBD,MAAlB,CAAR,CACA,CACD,CATD,CAUA;AAEA,gBAA4CpB,QAAQ,CAAC,EAAD,CAApD,2CAAO8D,cAAP,gBAAuBC,iBAAvB,gBAEA,GAAMJ,YAAW,CAAC,QAAZA,YAAY,EAAK,CACtB,GAAIK,KAAI,CAAGvC,IAAI,CAAC,CAAD,CAAf,CACAqB,OAAO,CAACC,GAAR,CAAYiB,IAAI,CAACC,IAAjB,EACAF,iBAAiB,CAACtC,IAAI,CAAC,CAAD,CAAJ,CAAQwC,IAAT,CAAjB,CACA,GAAGD,IAAI,CAACC,IAAL,EAAW1C,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAd,CAA6C,CAC5CP,aAAa,CAAC,IAAD,CAAb,CACA,CACD,CAPD,CAQA;AACA;AACA,GAAMiD,aAAY,CAAG,QAAfA,aAAe,EAAM,CAAG;AAC7BvD,YAAY,CAAC,CAAD,CAAZ,CACAkB,MAAM,CAACX,IAAD,CAAN,CACAR,SAAS,CAACQ,IAAD,CAAT,CACA4B,OAAO,CAACC,GAAR,CAAYnB,GAAZ,EACAT,OAAO,CAAC,EAAD,CAAP,CACA,CAND,CAOA,GAAMgD,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAAG;AAC9B9D,SAAS,CAACkB,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAD,CAAT,CACAD,cAAc,CAAC6C,UAAf,CAA0B,KAA1B,EACA7C,cAAc,CAAC6C,UAAf,CAA0B,MAA1B,EACA/C,QAAQ,CAAC,OAAD,CAAR,CACA,CALD,CAOA;AACA;AACA,GAAMkC,KAAI,4FAAG,4IAAe;AACvBc,EADQ,CACH,CAACzC,GAAG,CAACrB,QAAQ,EAAb,CAAiB+D,KAAK,CAAE7D,YAAY,EAApC,CAAwC8D,QAAQ,CAAE/D,WAAW,EAA7D,CADG,CAEZkC,WAAW,CAAC2B,EAAE,CAACC,KAAJ,CAAX,CACAE,OAAO,CAACH,EAAD,CAAP,CACA,GAAGrD,UAAU,EAAE,KAAf,CAAqB,CACpByD,eAAe,CAACJ,EAAD,CAAf,CACA,CANW,sDAAH,kBAAJd,KAAI,0CAAV,CAQA;AACA,GAAMiB,QAAO,CAAG,QAAVA,QAAU,CAACH,EAAD,CAAQ,CACvBxC,MAAM,CAACwC,EAAE,CAACzC,GAAJ,CAAN,CACAL,cAAc,CAACsC,OAAf,CAAuB,KAAvB,CAA8BjC,GAA9B,EACA,MAAO,KAAP,CACA,CAJD,CAMA;AACA,GAAM6C,gBAAe,CAAG,QAAlBA,gBAAkB,CAACJ,EAAD,CAAQ,CAE/BvB,OAAO,CAACC,GAAR,CAAYsB,EAAE,CAACE,QAAf,EACAzB,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAACJ,aAArB,EACA,GAAGmC,EAAE,CAACE,QAAH,CAAYjC,QAAQ,CAACJ,aAArB,CAAmC,CAAtC,CACA,CACC,GAAGmC,EAAE,CAACC,KAAH,EAAY,QAAf,CAAwB,CACvB9B,SAAS,CAACkC,OAAV,CAAkBC,MAAlB,CAA0BN,EAAE,CAACE,QAA7B,CAAuC,SAAvC,EACA,CACD,CACD,GAAGjC,QAAQ,CAACJ,aAAT,CAAuBmC,EAAE,CAACE,QAA1B,CAAmC,CAAtC,CACA,CACC,GAAGF,EAAE,CAACC,KAAH,EAAY,QAAf,CAAwB,CACvB9B,SAAS,CAACkC,OAAV,CAAkBC,MAAlB,CAA0BN,EAAE,CAACE,QAA7B,CAAuC,SAAvC,EACA,CACD,CACD,CAhBD,CAkBA;AACA;AAKA,GAAMf,UAAS,CAAG,QAAZA,UAAY,EAAM,CACvBoB,KAAK,CAACjD,GAAD,CAAL,CACEkD,IADF,CACO,SAACC,GAAD,QACLA,IAAG,CAACC,IAAJ,EADK,EADP,EAGEF,IAHF,CAGO,SAACG,QAAD,CAAc,CACnBlC,OAAO,CAACC,GAAR,CAAYiC,QAAQ,CAACC,KAArB,EACAvD,OAAO,CAACsD,QAAQ,CAACC,KAAV,CAAP,CACA,CANF,EAQA,CATD,CAYA,mBACC,sCACC,aAAM,KAAK,CAAC,MAAZ,uBACC,oCACC,aAAK,KAAK,CAAC,iBAAX,wBACC,YAAI,KAAK,CAAC,aAAV,oBAA+B3D,QAA/B,OADD,cAEC,eAAQ,OAAO,CAAE,iBAAA4D,KAAK,QAAIf,cAAa,EAAjB,EAAtB,CAA2C,SAAS,CAAC,YAArD,CAAkE,YAAU,QAA5E,uBAFD,cAGC,YAAI,KAAK,CAAC,aAAV,4BAAuCL,cAAvC,OAHD,cAIC,YAAI,KAAK,CAAC,aAAV,iEAA4ExC,QAA5E,OAJD,GADD,cAOC,aAAK,KAAK,CAAC,OAAX,wBACC,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,KAAK,CAAC,UAAzC,CAAoD,WAAW,CAAC,kBAAhE,CAAgF,KAAK,CAAEJ,IAAvF,CAA6F,QAAQ,CAAE,kBAACiE,MAAD,QAAYhE,QAAO,CAACgE,MAAM,CAACC,MAAP,CAAcC,KAAf,CAAnB,EAAvG,EADD,cAEC,eAAQ,OAAO,CAAE,iBAAAH,KAAK,QAAIhB,aAAY,EAAhB,EAAtB,CAA0C,SAAS,CAAC,aAApD,CAAkE,YAAU,QAA5E,sBAFD,GAPD,cAaC,kCACC,YAAK,KAAK,CAAC,QAAX,uBACC,KAAC,WAAD,EACC,KAAK,CAAC,KADP,CAEC,MAAM,CAAC,KAFR,CAGC,KAAK,CAAC,aAHP,CAIC,GAAG,CAAEtC,GAJN,CAKC,GAAG,CAAEY,SALN,CAMC,OAAO,CAAEV,OANV,CAOC,QAAQ,CAAEE,QAPX,CAQC,OAAO,CAAE,yBAAMc,QAAO,CAACC,GAAR,CAAY,SAAZ,CAAN,EARV,CASC,OAAO,CAAE,yBAAMD,QAAO,CAACC,GAAR,CAAY,SAAZ,CAAN,EATV,CAUC,MAAM,CAAE,wBAAMF,WAAU,EAAhB,EAVT,CAWC,OAAO,CAAE,yBAAMG,YAAW,EAAjB,EAXV,CAYC,QAAQ,CAAE,0BAAMF,QAAO,CAACC,GAAR,CAAY,UAAZ,CAAN,EAZX,CAaC,UAAU,CAAE,oBAACG,GAAD,QAAQD,eAAc,CAACC,GAAD,CAAtB,EAbb,CAcC,MAAM,CAAE,wBAAKJ,QAAO,CAACC,GAAR,CAAY,MAAZ,CAAL,EAdT,EADD,EADD,EAbD,cAmCC,kCACC,YAAK,KAAK,CAAC,UAAX,uBACC,oCACC,UAAG,KAAK,CAAC,OAAT,0CADD,cAEC,UAAG,KAAK,CAAC,WAAT,UACEtB,IAAI,CAAC6D,GAAL,CAAS,SAACtB,IAAD,qBACT,iCACC,oBAAK,KAAKA,IAAI,CAACC,IAAV,CAAe,IAApB,EADD,EAASD,IAAI,CAACuB,EAAd,CADS,EAAT,CADF,EAFD,GADD,EADD,EAnCD,cAiDC,YAAK,KAAK,CAAC,MAAX,CAAkB,IAAI,CAAC,KAAvB,CAA6B,YAAU,QAAvC,uBACC,KAAC,IAAD,IADD,EAjDD,GADD,EADD,EADD,CA4DA,CAlQD,CAoQA,cAAexE,WAAf"},"metadata":{},"sourceType":"module"}