{"ast":null,"code":"import _slicedToArray from\"C:/Users/Tom/w2g2022-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{createUser}from\"./Controller/UserController\";import\"./css/host.css\";import{useNavigate}from\"react-router-dom\";import{createRoom,joinRoom}from'./Controller/RoomController';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserCreatrSide=function UserCreatrSide(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inp=_useState2[0],setInput=_useState2[1];var navigate=useNavigate();var redirect=sessionStorage.getItem('redirect');useEffect(function(){checker();},[]);var handleButton=function handleButton(){// gives button its funktion\nif(sessionStorage.getItem('redirect')!=null){sessionStorage.removeItem('redirect');// triggers when room is available\nif(checker()==true){createUser(inp);setTimeout(function(){joinRoom(redirect);},500);setTimeout(function(){navigate('/Watchparty/'+redirect);},500);}else{navigate('/*');}}else{createUser(inp);setTimeout(function(){createRoom();setTimeout(function(){navigate('/Watchparty/'+sessionStorage.getItem('roomname'));},500);},200);}};var checker=function checker(){var find=[];fetch('https://gruppe13.toni-barth.com/rooms/').then(function(res){return res.json();}).then(function(response){find=response.roomsfind(function(item){return item.name==redirect;});});if(find==undefined){return false;}else{return true;}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"body\",{class:\"home\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{class:\"hosttitle_text\",children:/*#__PURE__*/_jsx(\"h1\",{class:\"hosttitle\",children:\"Erstellen sie einen eigenen Raum f\\xFCr ihre Watchparty!\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"host_text\",children:/*#__PURE__*/_jsx(\"p\",{class:\"host_textbox\",children:\"Bitte geben Sie einen Benutzernamen ein um diese Seite nutzen zu k\\xF6nnen.\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"input\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"eins\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"input_box\",placeholder:\"Benutzernamen eingeben zb.: Floppa\",value:inp,onChange:function onChange(change){return setInput(change.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{class:\"zwei\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleButton();},className:\"host_button\",children:\"Best\\xE4tigen \"})})]})]})})});};export default UserCreatrSide;","map":{"version":3,"names":["React","useState","useEffect","createUser","useNavigate","createRoom","joinRoom","UserCreatrSide","inp","setInput","navigate","redirect","sessionStorage","getItem","checker","handleButton","removeItem","setTimeout","find","fetch","then","res","json","response","roomsfind","item","name","undefined","change","target","value","event"],"sources":["C:/Users/Tom/w2g2022-web/src/components/UserCreateSide.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {  createUser } from \"./Controller/UserController\";\r\nimport \"./css/host.css\";\r\nimport {useNavigate} from \"react-router-dom\"\r\nimport { createRoom, joinRoom } from './Controller/RoomController';\r\n\r\nconst UserCreatrSide = () => {\r\n    const [inp, setInput] = useState('')\r\n    const navigate = useNavigate()\r\n    const redirect = sessionStorage.getItem('redirect')\r\n    \r\n\r\n    useEffect(()=>{\r\n\t\tchecker()\r\n    }, []);\r\n\r\n\r\n\r\n    const  handleButton =  () => {\t\t// gives button its funktion\r\n\t\t\r\n        if(sessionStorage.getItem('redirect')!=null){\r\n            sessionStorage.removeItem('redirect');\r\n\r\n            // triggers when room is available\r\n            if(checker()==true){\r\n                createUser(inp)\r\n                setTimeout(function () {\r\n                    joinRoom(redirect)\r\n                    }, 500)\r\n                \r\n                setTimeout(function () {\r\n                navigate('/Watchparty/'+redirect)\r\n                }, 500)\r\n            }\r\n\r\n            else{\r\n                navigate('/*')\r\n            }\r\n\r\n\r\n           \r\n        }\r\n        else{\r\n            createUser(inp)\r\n            setTimeout(function () {\r\n                createRoom()\r\n                setTimeout(function () {\r\n                navigate('/Watchparty/'+sessionStorage.getItem('roomname'))\r\n                }, 500)\r\n                }, 200)\r\n        }\r\n    }\r\n\r\n    const checker=()=>{\r\n        var find = []\r\n        fetch('https://gruppe13.toni-barth.com/rooms/')\r\n          .then((res) =>\r\n        res.json())\r\n          .then((response) => {\r\n           find= response.roomsfind((item)=>{\r\n            return item.name == redirect\r\n            })\r\n         })\r\n        if(find == undefined)\r\n        {\r\n            return false\r\n        }\r\n        else{\r\n            return true\r\n        }\r\n    }\r\n\r\n  return (\r\n    <>\r\n    <body class=\"home\">\r\n        <div>\r\n            <div class=\"hosttitle_text\">\r\n                <h1 class=\"hosttitle\">Erstellen sie einen eigenen Raum für ihre Watchparty!</h1>\r\n            </div>\r\n            <div class=\"host_text\">\r\n                <p class=\"host_textbox\">Bitte geben Sie einen Benutzernamen ein um diese Seite nutzen zu können.</p>\r\n            </div>\r\n            <div class=\"input\">\r\n                <div class=\"eins\">\r\n                <input type=\"text\" class=\"input_box\" placeholder=\"Benutzernamen eingeben zb.: Floppa\" value={inp} onChange={(change) => setInput(change.target.value)}></input>\r\n                </div>\r\n                <div class=\"zwei\">\r\n\t\t\t\t\t\t<button onClick={event => handleButton()} className=\"host_button\">Bestätigen\t</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n</>\r\n  )\r\n}\r\n\r\nexport default UserCreatrSide"],"mappings":"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"},"metadata":{},"sourceType":"module"}