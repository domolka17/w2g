{"ast":null,"code":"var _jsxFileName = \"D:\\\\wum\\\\w2g2022-web\\\\src\\\\components\\\\Chat.js\",\n    _s = $RefreshSig$();\n\n/**\r\n *  Chat window\r\n *  TODO manages Chat\r\n *  TODO uses get and posts\r\n *  TODO exports it selfe, needs css style\r\n *  TODO writing massage and submit it\r\n * \r\n */\nimport React, { useEffect, useRef, useState } from 'react';\nimport { chatGet, chatPost } from './Controller/ChatController';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = () => {\n  _s();\n\n  const [massage, setMassage] = useState('');\n  const [chat, setChat] = useState([]);\n  const [currentChat, setCurrentChat] = useState([]);\n  useEffect(() => {\n    massageExtract();\n  }, []); // submit massage button\n\n  const handleButton = () => {\n    chatPost(massage); // after posting massage, emptys massage-input\n\n    setTimeout(function () {\n      setMassage('');\n    }, 500);\n  }; //_______________________________________________________________________________ for tests\n\n\n  const specialGet = () => {\n    const data = '';\n    fetch('https://gruppe13.toni-barth.com/rooms/better-adamant-scooter/chat', {\n      method: 'GET'\n    }).then(res => res.json()).then(res => data = res);\n    return data;\n  }; //_______________________________________________________________________________\n  // massage extarctor \n\n\n  const massageExtract = () => {\n    setCurrentChat(specialGet());\n    setChat([...currentChat, {\n      massageId: currentChat.length,\n      text: currentChat.text,\n      author: currentChat.usserId\n    }]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ChatBox\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"MassageBox\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: chat.map(chat => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: chat.text\n        }, chat.massageId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ChatSubmitbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        class: \"submit\",\n        placeholder: \"Narricht schreiben\",\n        value: massage,\n        onChange: change => setMassage(change.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: event => handleButton(),\n        className: \"massage_submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Chat, \"c/ZGib+GeTPoCJpgRJ+dBhGyAPA=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useRef","useState","chatGet","chatPost","Chat","massage","setMassage","chat","setChat","currentChat","setCurrentChat","massageExtract","handleButton","setTimeout","specialGet","data","fetch","method","then","res","json","massageId","length","text","author","usserId","map","change","target","value","event"],"sources":["D:/wum/w2g2022-web/src/components/Chat.js"],"sourcesContent":["/**\r\n *  Chat window\r\n *  TODO manages Chat\r\n *  TODO uses get and posts\r\n *  TODO exports it selfe, needs css style\r\n *  TODO writing massage and submit it\r\n * \r\n */\r\n\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { chatGet, chatPost } from './Controller/ChatController'\r\n\r\n\r\nconst Chat = () => {\r\n    const [massage, setMassage] = useState('')\r\n    const [chat,setChat] = useState([])\r\n    const [currentChat,setCurrentChat] = useState([])\r\n    useEffect(() => {\r\n\t\tmassageExtract()\r\n\t}, []);\r\n\r\n    // submit massage button\r\n    const handleButton = ()=>{\r\n        chatPost(massage)\r\n        // after posting massage, emptys massage-input\r\n        setTimeout(function () {\r\n            setMassage('')\r\n        }, 500)\r\n    }\r\n    //_______________________________________________________________________________ for tests\r\n\r\n    const specialGet = () => {\r\n        const data =''\r\n        fetch('https://gruppe13.toni-barth.com/rooms/better-adamant-scooter/chat', {\r\n            method:'GET'\r\n        }).then((res) =>\r\n        res.json()).then((res)=> data=res)\r\n        return data\r\n    }\r\n\r\n\r\n    //_______________________________________________________________________________\r\n    // massage extarctor \r\n    const massageExtract=()=>{\r\n        setCurrentChat(specialGet())\r\n        \r\n            setChat([...currentChat,{\r\n                massageId: currentChat.length,\r\n                text: currentChat.text,\r\n                author: currentChat.usserId\r\n            }])\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className='ChatBox'>\r\n        <div className='MassageBox'>\r\n            <ul>\r\n                {chat.map(chat =>(\r\n                    <li key={chat.massageId}>{chat.text}</li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n        <div className='ChatSubmitbar'>\r\n            <input type=\"text\"  class=\"submit\" placeholder=\"Narricht schreiben\" value={massage} onChange={(change) => setMassage(change.target.value)}></input>\r\n            <button onClick={event => handleButton()} className=\"massage_submit\">Send</button>\r\n        </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Chat"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,6BAAlC;;;AAGA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACf,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACM,IAAD,EAAMC,OAAN,IAAiBP,QAAQ,CAAC,EAAD,CAA/B;EACA,MAAM,CAACQ,WAAD,EAAaC,cAAb,IAA+BT,QAAQ,CAAC,EAAD,CAA7C;EACAF,SAAS,CAAC,MAAM;IAClBY,cAAc;EACd,CAFW,EAET,EAFS,CAAT,CAJe,CAQf;;EACA,MAAMC,YAAY,GAAG,MAAI;IACrBT,QAAQ,CAACE,OAAD,CAAR,CADqB,CAErB;;IACAQ,UAAU,CAAC,YAAY;MACnBP,UAAU,CAAC,EAAD,CAAV;IACH,CAFS,EAEP,GAFO,CAAV;EAGH,CAND,CATe,CAgBf;;;EAEA,MAAMQ,UAAU,GAAG,MAAM;IACrB,MAAMC,IAAI,GAAE,EAAZ;IACAC,KAAK,CAAC,mEAAD,EAAsE;MACvEC,MAAM,EAAC;IADgE,CAAtE,CAAL,CAEGC,IAFH,CAESC,GAAD,IACRA,GAAG,CAACC,IAAJ,EAHA,EAGYF,IAHZ,CAGkBC,GAAD,IAAQJ,IAAI,GAACI,GAH9B;IAIA,OAAOJ,IAAP;EACH,CAPD,CAlBe,CA4Bf;EACA;;;EACA,MAAMJ,cAAc,GAAC,MAAI;IACrBD,cAAc,CAACI,UAAU,EAAX,CAAd;IAEIN,OAAO,CAAC,CAAC,GAAGC,WAAJ,EAAgB;MACpBY,SAAS,EAAEZ,WAAW,CAACa,MADH;MAEpBC,IAAI,EAAEd,WAAW,CAACc,IAFE;MAGpBC,MAAM,EAAEf,WAAW,CAACgB;IAHA,CAAhB,CAAD,CAAP;EAMP,CATD;;EAcF,oBACE;IAAK,SAAS,EAAC,SAAf;IAAA,wBACI;MAAK,SAAS,EAAC,YAAf;MAAA,uBACI;QAAA,UACKlB,IAAI,CAACmB,GAAL,CAASnB,IAAI,iBACV;UAAA,UAA0BA,IAAI,CAACgB;QAA/B,GAAShB,IAAI,CAACc,SAAd;UAAA;UAAA;UAAA;QAAA,QADH;MADL;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAQI;MAAK,SAAS,EAAC,eAAf;MAAA,wBACI;QAAO,IAAI,EAAC,MAAZ;QAAoB,KAAK,EAAC,QAA1B;QAAmC,WAAW,EAAC,oBAA/C;QAAoE,KAAK,EAAEhB,OAA3E;QAAoF,QAAQ,EAAGsB,MAAD,IAAYrB,UAAU,CAACqB,MAAM,CAACC,MAAP,CAAcC,KAAf;MAApH;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAQ,OAAO,EAAEC,KAAK,IAAIlB,YAAY,EAAtC;QAA0C,SAAS,EAAC,gBAApD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QARJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD,CA5DD;;GAAMR,I;;KAAAA,I;AA8DN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}