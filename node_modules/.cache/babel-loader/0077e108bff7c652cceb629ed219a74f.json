{"ast":null,"code":"import React,{useEffect}from\"react\";import'./components/css/App.css';import'./components/css/navbar.css';import{HashRouter,Routes,Route}from'react-router-dom';import Navbar from'./components/Navbar';import Home from'./components/Startseite';import About from'./components/about';import Help from'./components/Help';import Room from'./components/Room';import Watchparty from\"./components/Watchparty\";import{leaveRoom}from\"./components/Controller/RoomController\";import UserCreatrSide from\"./components/UserCreateSide\";import{NotFound}from\"./components/NotFound\";import Chat from\"./components/Chat\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){useEffect(function(){window.addEventListener('beforeunload',alertUser);window.addEventListener('unload',handleTabClosing);return function(){window.removeEventListener('beforeunload',alertUser);window.removeEventListener('unload',handleTabClosing);};});var handleTabClosing=function handleTabClosing(){logOut(sessionStorage.getItem('id'));};var alertUser=function alertUser(event){event.preventDefault();event.returnValue='';// not lösung, nutzer werden sonst nie gelöscht bei verlassen der Seite\nleaveRoom(sessionStorage.getItem('roomname'));logOut(sessionStorage.getItem('id'));};var logOut=function logOut(id){var url='https://gruppe13.toni-barth.com/users/';fetch(url+id,{method:'DELETE',headers:{\"Content-Type\":\"application/json\"}}).then(sessionStorage.clear());};return/*#__PURE__*/_jsxs(HashRouter,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/index\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Help\",element:/*#__PURE__*/_jsx(Help,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Room\",element:/*#__PURE__*/_jsx(Room,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Watchparty/:roomid\",element:/*#__PURE__*/_jsx(Watchparty,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/UserCreateSide\",element:/*#__PURE__*/_jsx(UserCreatrSide,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Chat\",element:/*#__PURE__*/_jsx(Chat,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","HashRouter","Routes","Route","Navbar","Home","About","Help","Room","Watchparty","leaveRoom","UserCreatrSide","NotFound","Chat","App","window","addEventListener","alertUser","handleTabClosing","removeEventListener","logOut","sessionStorage","getItem","event","preventDefault","returnValue","id","url","fetch","method","headers","then","clear"],"sources":["D:/wum/w2g/src/App.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport './components/css/App.css';\r\nimport './components/css/navbar.css'\r\nimport { HashRouter, Routes, Route } from 'react-router-dom';\r\nimport Navbar from './components/Navbar';\r\nimport Home from './components/Startseite';\r\nimport About from './components/about';\r\nimport Help from './components/Help';\r\nimport Room from './components/Room';\r\nimport Watchparty from \"./components/Watchparty\";\r\nimport { leaveRoom } from \"./components/Controller/RoomController\";\r\nimport UserCreatrSide from \"./components/UserCreateSide\";\r\nimport { NotFound } from \"./components/NotFound\";\r\nimport Chat from \"./components/Chat\";\r\n\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    window.addEventListener('beforeunload', alertUser)\r\n    window.addEventListener('unload', handleTabClosing)\r\n    return () => {\r\n      window.removeEventListener('beforeunload', alertUser)\r\n      window.removeEventListener('unload', handleTabClosing)\r\n    }\r\n  })\r\n  const handleTabClosing = () => {\r\n    logOut(sessionStorage.getItem('id'))\r\n  }\r\n  const alertUser = (event) => {\r\n    event.preventDefault()\r\n    event.returnValue = ''\r\n    // not lösung, nutzer werden sonst nie gelöscht bei verlassen der Seite\r\n    leaveRoom(sessionStorage.getItem('roomname'))\r\n    logOut(sessionStorage.getItem('id'))\r\n  }\r\n  const logOut = (id) => {\r\n    const url = 'https://gruppe13.toni-barth.com/users/'\r\n    fetch(url + id, {\r\n      method: 'DELETE', headers: { \"Content-Type\": \"application/json\" }\r\n    }).then(sessionStorage.clear())\r\n  }\r\n  return (\r\n    <HashRouter>\r\n      <Navbar />\r\n      <Routes>\r\n        <Route exact path='/' element={<Home />} />\r\n        <Route exact path='/index' element={<Home />} />\r\n        <Route exact path='/about' element={<About />} />\r\n        <Route exact path='/Help' element={<Help />} />\r\n        <Route exact path=\"/Room\" element={<Room />} />\r\n        <Route exact path=\"/Watchparty/:roomid\" element={<Watchparty />} />\r\n        <Route exact path=\"/UserCreateSide\" element={<UserCreatrSide />} />\r\n        <Route exact path=\"/Chat\" element={<Chat />} />\r\n        <Route exact path=\"*\" element={<NotFound />} />\r\n      </Routes>\r\n    </HashRouter >\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}