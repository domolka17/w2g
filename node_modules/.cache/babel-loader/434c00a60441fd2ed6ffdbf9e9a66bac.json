{"ast":null,"code":"/*\r\n create Room should be done\r\n delete Room should be done\r\n join room should be done\r\n leave room should be done\r\n*/ // collection of funktions related to the controll of a room\nvar url='https://gruppe13.toni-barth.com/rooms/';export var createRoom=function createRoom(){//put request, creation of room\nfetch(url,{method:'POST',headers:{\"Content-Type\":\"application/json\"}})//take respons, its the name of new room\n.then(function(response){return response.json();}).then(function(data){joinRoom(data.name);});};export var joinRoom=function joinRoom(name){// get roomname and user id put them in url\nfetch(url+name+'/users',{method:'PUT',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"user\":sessionStorage.getItem('id')})});window.sessionStorage.setItem(\"roomname\",name);};export var leaveRoom=function leaveRoom(roomname){// delete user from room\nfetch(url+roomname+'/users',{method:'DELETE',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"user\":sessionStorage.getItem('id')})});//update theUser\nsessionStorage.removeItem('roomname');};","map":{"version":3,"names":["url","createRoom","fetch","method","headers","then","response","json","data","joinRoom","name","body","JSON","stringify","sessionStorage","getItem","window","setItem","leaveRoom","roomname","removeItem"],"sources":["C:/Users/Tom/w2g2022-web/src/components/Controller/RoomController.js"],"sourcesContent":["/*\r\n create Room should be done\r\n delete Room should be done\r\n join room should be done\r\n leave room should be done\r\n*/\r\n\r\n\r\n\r\n\r\n// collection of funktions related to the controll of a room\r\nconst url = 'https://gruppe13.toni-barth.com/rooms/'\r\n\r\n    export const createRoom =() => {\r\n        //put request, creation of room\r\n        fetch(url, {\r\n            method:'POST' ,\r\n            headers:{\"Content-Type\": \"application/json\"},             \r\n        })\r\n        //take respons, its the name of new room\r\n        .then( response => {\r\n           return response.json()})\r\n        .then (data => { joinRoom(data.name)\r\n        })  \r\n    }\r\n    export const joinRoom = (name) => {\r\n        // get roomname and user id put them in url\r\n        fetch(url + name +'/users', {\r\n            method:'PUT',\r\n            headers:{\"Content-Type\": \"application/json\"},\r\n            body:  JSON.stringify({\"user\": sessionStorage.getItem('id')})\r\n        })\r\n        window.sessionStorage.setItem(\"roomname\", name)\r\n    }\r\n    export const leaveRoom = (roomname) => {\r\n        // delete user from room\r\n        fetch(url +roomname+'/users', {\r\n          method:'DELETE',\r\n          headers:{\"Content-Type\": \"application/json\"},\r\n          body:  JSON.stringify({\"user\": sessionStorage.getItem('id')})\r\n      })\r\n        //update theUser\r\n        sessionStorage.removeItem('roomname');\r\n    }\r\n    \r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,E,CAKA;AACA,GAAMA,IAAG,CAAG,wCAAZ,CAEI,MAAO,IAAMC,WAAU,CAAE,QAAZA,WAAY,EAAM,CAC3B;AACAC,KAAK,CAACF,GAAD,CAAM,CACPG,MAAM,CAAC,MADA,CAEPC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAFD,CAAN,CAIL;AAJA,CAKCC,IALD,CAKO,SAAAC,QAAQ,CAAI,CAChB,MAAOA,SAAQ,CAACC,IAAT,EAAP,CAAuB,CAN1B,EAOCF,IAPD,CAOO,SAAAG,IAAI,CAAI,CAAEC,QAAQ,CAACD,IAAI,CAACE,IAAN,CAAR,CAChB,CARD,EASH,CAXM,CAYP,MAAO,IAAMD,SAAQ,CAAG,QAAXA,SAAW,CAACC,IAAD,CAAU,CAC9B;AACAR,KAAK,CAACF,GAAG,CAAGU,IAAN,CAAY,QAAb,CAAuB,CACxBP,MAAM,CAAC,KADiB,CAExBC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAFgB,CAGxBO,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAe,CAAC,OAAQC,cAAc,CAACC,OAAf,CAAuB,IAAvB,CAAT,CAAf,CAHiB,CAAvB,CAAL,CAKAC,MAAM,CAACF,cAAP,CAAsBG,OAAtB,CAA8B,UAA9B,CAA0CP,IAA1C,EACH,CARM,CASP,MAAO,IAAMQ,UAAS,CAAG,QAAZA,UAAY,CAACC,QAAD,CAAc,CACnC;AACAjB,KAAK,CAACF,GAAG,CAAEmB,QAAL,CAAc,QAAf,CAAyB,CAC5BhB,MAAM,CAAC,QADqB,CAE5BC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAFoB,CAG5BO,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAe,CAAC,OAAQC,cAAc,CAACC,OAAf,CAAuB,IAAvB,CAAT,CAAf,CAHqB,CAAzB,CAAL,CAKA;AACAD,cAAc,CAACM,UAAf,CAA0B,UAA1B,EACH,CATM"},"metadata":{},"sourceType":"module"}