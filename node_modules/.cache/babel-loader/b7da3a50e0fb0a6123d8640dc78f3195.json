{"ast":null,"code":"/*\n create Room should be done\n delete Room should be done\n join room should be done\n leave room should be done\n*/\nimport React from 'react'; // collection of funktions related to the controll of a room\n\nconst url = 'https://gruppe13.toni-barth.com/rooms/';\nexport const createRoom = () => {\n  //put request, creation of room\n  fetch(url, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }) //take respons, its the name of new room\n  .then(response => {\n    return response.json();\n  }).then(data => {\n    joinRoom(data.name);\n  });\n};\nexport const joinRoom = name => {\n  // get roomname and user id put them in url\n  fetch(url + name + '/users', {\n    method: 'PUT',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"user\": sessionStorage.getItem('id')\n    })\n  });\n  window.sessionStorage.setItem(\"roomname\", name);\n};\nexport const leaveRoom = roomname => {\n  // delete user from room\n  fetch(url + roomname + '/users', {\n    method: 'DELETE',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"user\": sessionStorage.getItem('id')\n    })\n  }); //update theUser\n\n  sessionStorage.removeItem('roomname');\n};","map":{"version":3,"names":["React","url","createRoom","fetch","method","headers","then","response","json","data","joinRoom","name","body","JSON","stringify","sessionStorage","getItem","window","setItem","leaveRoom","roomname","removeItem"],"sources":["D:/wum/w2g2022-web/src/components/Controller/RoomController.js"],"sourcesContent":["/*\n create Room should be done\n delete Room should be done\n join room should be done\n leave room should be done\n*/\n\nimport React from 'react'\n\n\n// collection of funktions related to the controll of a room\nconst url = 'https://gruppe13.toni-barth.com/rooms/'\n\n    export const createRoom =() => {\n        //put request, creation of room\n        fetch(url, {\n            method:'POST' ,\n            headers:{\"Content-Type\": \"application/json\"},             \n        })\n        //take respons, its the name of new room\n        .then( response => {\n           return response.json()})\n        .then (data => { joinRoom(data.name)\n        })  \n    }\n    export const joinRoom = (name) => {\n        // get roomname and user id put them in url\n        fetch(url + name +'/users', {\n            method:'PUT',\n            headers:{\"Content-Type\": \"application/json\"},\n            body:  JSON.stringify({\"user\": sessionStorage.getItem('id')})\n        })\n        window.sessionStorage.setItem(\"roomname\", name)\n    }\n    export const leaveRoom = (roomname) => {\n        // delete user from room\n        fetch(url +roomname+'/users', {\n          method:'DELETE',\n          headers:{\"Content-Type\": \"application/json\"},\n          body:  JSON.stringify({\"user\": sessionStorage.getItem('id')})\n      })\n        //update theUser\n        sessionStorage.removeItem('roomname');\n    }\n    \n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB,C,CAGA;;AACA,MAAMC,GAAG,GAAG,wCAAZ;AAEI,OAAO,MAAMC,UAAU,GAAE,MAAM;EAC3B;EACAC,KAAK,CAACF,GAAD,EAAM;IACPG,MAAM,EAAC,MADA;IAEPC,OAAO,EAAC;MAAC,gBAAgB;IAAjB;EAFD,CAAN,CAAL,CAIA;EAJA,CAKCC,IALD,CAKOC,QAAQ,IAAI;IAChB,OAAOA,QAAQ,CAACC,IAAT,EAAP;EAAuB,CAN1B,EAOCF,IAPD,CAOOG,IAAI,IAAI;IAAEC,QAAQ,CAACD,IAAI,CAACE,IAAN,CAAR;EAChB,CARD;AASH,CAXM;AAYP,OAAO,MAAMD,QAAQ,GAAIC,IAAD,IAAU;EAC9B;EACAR,KAAK,CAACF,GAAG,GAAGU,IAAN,GAAY,QAAb,EAAuB;IACxBP,MAAM,EAAC,KADiB;IAExBC,OAAO,EAAC;MAAC,gBAAgB;IAAjB,CAFgB;IAGxBO,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAe;MAAC,QAAQC,cAAc,CAACC,OAAf,CAAuB,IAAvB;IAAT,CAAf;EAHiB,CAAvB,CAAL;EAKAC,MAAM,CAACF,cAAP,CAAsBG,OAAtB,CAA8B,UAA9B,EAA0CP,IAA1C;AACH,CARM;AASP,OAAO,MAAMQ,SAAS,GAAIC,QAAD,IAAc;EACnC;EACAjB,KAAK,CAACF,GAAG,GAAEmB,QAAL,GAAc,QAAf,EAAyB;IAC5BhB,MAAM,EAAC,QADqB;IAE5BC,OAAO,EAAC;MAAC,gBAAgB;IAAjB,CAFoB;IAG5BO,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAe;MAAC,QAAQC,cAAc,CAACC,OAAf,CAAuB,IAAvB;IAAT,CAAf;EAHqB,CAAzB,CAAL,CAFmC,CAOnC;;EACAD,cAAc,CAACM,UAAf,CAA0B,UAA1B;AACH,CATM"},"metadata":{},"sourceType":"module"}