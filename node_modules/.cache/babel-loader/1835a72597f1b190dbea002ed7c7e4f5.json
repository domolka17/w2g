{"ast":null,"code":"var _jsxFileName = \"D:\\\\wum\\\\w2g2022-web\\\\src\\\\components\\\\Chat.js\",\n    _s = $RefreshSig$();\n\n/**\r\n *  Chat window\r\n *  TODO manages Chat\r\n *  TODO uses get and posts\r\n *  TODO exports it selfe, needs css style\r\n *  TODO writing message and submit it\r\n * \r\n */\nimport React, { useEffect, useRef, useState } from 'react';\nimport { chatGet, chatPost } from './Controller/ChatController';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = () => {\n  _s();\n\n  const [message, setMessage] = useState('');\n  const [data, getData] = useState([]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      handleChat();\n      console.log('Update Chat');\n      con;\n    }, 3000);\n    return () => clearInterval(interval);\n  }, []); // submit message button\n\n  const handleButton = () => {\n    chatPost(message, sessionStorage.getItem('roomname')); // after posting message, emptys message-input\n\n    setTimeout(function () {\n      setMessage('');\n    }, 500);\n  };\n\n  const handleChat = () => {\n    if (sessionStorage.getItem('roomname') != null) {\n      const chat = chatGet(sessionStorage.getItem('roomname'));\n\n      if (chat != null) {\n        getData(chat);\n        console.log(chat);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ChatBox\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messageBox\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"messageList\",\n        children: data.map((data, time) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 10\n          }, this)\n        }, time, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ChatSubmitbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        class: \"submit\",\n        placeholder: \"Narricht schreiben\",\n        value: message,\n        onChange: change => setMessage(change.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: event => handleButton(),\n        className: \"message_submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Chat, \"/4R0r6Q7vOuimAwkOZv1JZ2EhzY=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useRef","useState","chatGet","chatPost","Chat","message","setMessage","data","getData","interval","setInterval","handleChat","console","log","con","clearInterval","handleButton","sessionStorage","getItem","setTimeout","chat","map","time","text","change","target","value","event"],"sources":["D:/wum/w2g2022-web/src/components/Chat.js"],"sourcesContent":["/**\r\n *  Chat window\r\n *  TODO manages Chat\r\n *  TODO uses get and posts\r\n *  TODO exports it selfe, needs css style\r\n *  TODO writing message and submit it\r\n * \r\n */\r\n\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { chatGet, chatPost } from './Controller/ChatController'\r\n\r\n\r\nconst Chat = () => {\r\n    const [message, setMessage] = useState('')\r\n    const [data, getData] = useState([])\r\n   \r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            handleChat()\r\n            console.log('Update Chat')\r\n            con\r\n\t\t}, 3000);\r\n\t\treturn () => clearInterval(interval);\r\n\t}, []);\r\n\r\n    // submit message button\r\n    const handleButton = ()=>{\r\n        chatPost(message, sessionStorage.getItem('roomname'))\r\n        // after posting message, emptys message-input\r\n        setTimeout(function () {\r\n            setMessage('')\r\n        }, 500)\r\n    }\r\n\r\n\r\n\r\n    const handleChat=()=>{\r\n        if(sessionStorage.getItem('roomname')!=null)\r\n        {\r\n            const chat = chatGet(sessionStorage.getItem('roomname'))\r\n            if(chat!=null){getData(chat);console.log(chat)}\r\n        }\r\n    }\r\n    \r\n  return (\r\n    <div className='ChatBox'>\r\n        <div className='messageBox'>\r\n            <p class=\"messageList\">\r\n\t\t\t    {data.map((data, time) => (\r\n\t\t\t\t    <tr key={time}>\r\n\t\t\t\t\t    <td>{data.text}</td>\r\n\t\t\t\t    </tr>\r\n\t\t\t    ))}\r\n\t\t\t</p>\r\n        </div>\r\n        <div className='ChatSubmitbar'>\r\n            <input type=\"text\"  class=\"submit\" placeholder=\"Narricht schreiben\" value={message} onChange={(change) => setMessage(change.target.value)}></input>\r\n            <button onClick={event => handleButton()} className=\"message_submit\">Send</button>\r\n        </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Chat"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,6BAAlC;;;AAGA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACf,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EAKAF,SAAS,CAAC,MAAM;IACZ,MAAMU,QAAQ,GAAGC,WAAW,CAAC,MAAM;MAC/BC,UAAU;MACVC,OAAO,CAACC,GAAR,CAAY,aAAZ;MACAC,GAAG;IACZ,CAJiC,EAI/B,IAJ+B,CAA5B;IAKN,OAAO,MAAMC,aAAa,CAACN,QAAD,CAA1B;EACA,CAPW,EAOT,EAPS,CAAT,CAPe,CAgBf;;EACA,MAAMO,YAAY,GAAG,MAAI;IACrBb,QAAQ,CAACE,OAAD,EAAUY,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAV,CAAR,CADqB,CAErB;;IACAC,UAAU,CAAC,YAAY;MACnBb,UAAU,CAAC,EAAD,CAAV;IACH,CAFS,EAEP,GAFO,CAAV;EAGH,CAND;;EAUA,MAAMK,UAAU,GAAC,MAAI;IACjB,IAAGM,cAAc,CAACC,OAAf,CAAuB,UAAvB,KAAoC,IAAvC,EACA;MACI,MAAME,IAAI,GAAGlB,OAAO,CAACe,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAD,CAApB;;MACA,IAAGE,IAAI,IAAE,IAAT,EAAc;QAACZ,OAAO,CAACY,IAAD,CAAP;QAAcR,OAAO,CAACC,GAAR,CAAYO,IAAZ;MAAkB;IAClD;EACJ,CAND;;EAQF,oBACE;IAAK,SAAS,EAAC,SAAf;IAAA,wBACI;MAAK,SAAS,EAAC,YAAf;MAAA,uBACI;QAAG,KAAK,EAAC,aAAT;QAAA,UACJb,IAAI,CAACc,GAAL,CAAS,CAACd,IAAD,EAAOe,IAAP,kBACT;UAAA,uBACC;YAAA,UAAKf,IAAI,CAACgB;UAAV;YAAA;YAAA;YAAA;UAAA;QADD,GAASD,IAAT;UAAA;UAAA;UAAA;QAAA,QADA;MADI;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAUI;MAAK,SAAS,EAAC,eAAf;MAAA,wBACI;QAAO,IAAI,EAAC,MAAZ;QAAoB,KAAK,EAAC,QAA1B;QAAmC,WAAW,EAAC,oBAA/C;QAAoE,KAAK,EAAEjB,OAA3E;QAAoF,QAAQ,EAAGmB,MAAD,IAAYlB,UAAU,CAACkB,MAAM,CAACC,MAAP,CAAcC,KAAf;MAApH;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAQ,OAAO,EAAEC,KAAK,IAAIX,YAAY,EAAtC;QAA0C,SAAS,EAAC,gBAApD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAVJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD,CArDD;;GAAMZ,I;;KAAAA,I;AAuDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}